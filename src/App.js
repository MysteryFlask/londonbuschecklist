import React, { useState, useEffect, useMemo } from "react";
import './style.css';

function PercentageDisplay({ totalItems, checkedItems }) {
  const percentage = totalItems > 0 ? ((checkedItems.length / totalItems) * 100).toFixed(2) : 0;
  return (
    <div className="percentagedisplay">
      {`Checked: ${percentage}%`}
    </div>
  );
}

function App() {
  // State with list of all checked item
  const [checked, setChecked] = useState([]);
  const checkList = useMemo(() => ["1 - Canada Water - Hampstead Heath", "2 - Marylebone - West Norwood", "3 - Crystal Palace - Victoria", "4 - Archway - Blackfriars Station", "5 - Canning Town - Romford Market", "6 - Victoria - Willesden Bus Garage", "7 - East Acton - Oxford Circus", "8 - Bow Church - Tottenham Court Road", "9 - Aldwych - Hammersmith Bus Station", "11 - Fulham Broadway - Waterloo", "12 - Dulwich Library - Oxford Circus", "13 - North Finchley - Victoria", "14 - Putney Heath - Russell Square", "15 - Blackwall - Trafalgar Square", "15H - Tower Hill - Trafalgar Square", "16 - Brent Park Superstores - Paddington", "17 - Archway - London Bridge", "18 - Euston - Sudbury", "19 - Battersea Bridge South Side - Finsbury Park Station", "20 - Debden - Walthamstow Central", "21 - Lewisham Shopping Centre - Newington Green", "22 - Oxford Circus - Putney Common", "23 - Aldwych - Westbourne Park", "24 - Hampstead Heath - Pimlico", "25 - City Thameslink - Ilford", "26 - Hackney Wick - Victoria", "27 - Chalk Farm - Hammersmith Glenthorpe Road", "28 - Kensal Rise - Wandsworth", "29 - Trafalgar Square - Wood Green", "30 - Hackney Wick - Marble Arch", "31 - Camden Town - White City", "32 - Edgware Bus Station - Kilburn Park", "33 - Castelnau - Fulwell Stanley Road", "34 - Barnet Church - Walthamstow Central", "35 - Clapham Junction - Shoreditch", "36 - New Cross Gate - Queen's Park", "37 - Peckham - Putney Heath", "38 - Clapton Pond - Victoria", "39 - Clapham Junction - Putney Bridge", "40 - Clerkenwell Green - Dulwich Library", "41 - Archway - Tottenham Hale", "42 - East Dulwich Sainsbury's - Liverpool Street", "43 - Frien Barnet - London Bridge", "44 - Tooting Station - Victoria", "45 - Clapham Park - Elephant & Castle", "46 - Lancaster Gate - St Bartholow's Hospital", "47 - Shoreditch - Bellingham Catford Bus Garage", "49 - Clapham Junction - White City", "50 - Croydon Town Centre - Stockwell", "51 - Orpington Station - Woolwich", "52 - Victoria - Willesden Bus Garage", "53 - County Hall - Lambeth North", "54 - Elmers End - Woolwich", "55 - Walthamstow Central - Oxford Circus", "56 - St Bartholomew's Hospital - Whipps Cross", "57 - Clapham Park - Kingston Fairfield Bus Station", "58 - East Ham Central Park - Walthamstow Central", "59 - St Bartholomew's Hospital - Streatham Hill Telford Avenue", "60 - Old Coulsdon - Streatham Station", "61 - Bromley North - Chislehurst", "62 - Barking Gascoigne Estate - Marks Gate", "63 - Honor Oak - King's Cross", "64 - New Addington Vulcan Way - Thorton Heath Pond", "65 - Ealing Broadway Station - Kingston Brook Street", "66 - Leytonstone - Romford Station", "67 - Dalston Junction - Wood Green", "68 - Euston - West Norwood", "69 - Canning Town - Walthamstow Central", "70 - Chiswick Business Park - South Kensington", "71 - Chessington World Of Adventures - Kingston Cromwell Road Bus Station", "72 - East Acton - Hammersmith Bridge North Side", "73 - Oxford Circus - Stoke Newington", "74 - Baker Street Station - Putney High Street", "75 - Croydon Town Centre - Lewisham Station", "76 - Tottenham Hale - Waterloo", "77 - Tooting Station - Waterloo", "78 - Nunhead St Mary's Road - Shoreditch", "79 - Stonebridge Park Station - Edgware Bus Station", "80 - Belmont Prison - Hackbridge Reynold's Close", "81 - Hounslow Bus Station - Slough", "83 - Alperton Sainsbury's - Golders Green", "85 - Kingston Hall Road - Putney Bridge", "86 - Romford Station - Stratford", "87 - Aldwych - Wandsworth", "88 - Clapham Common - Parliament Hill Fields", "89 - Lewisham Station - Slade Green", "90 - Feltham Leisure West - Northolt Station", "91 - Crouch End - Trafalgar Square", "92 - Ealing Hospital - St Rapheal's North", "93 - North Cheam - Putney Bridge", "94 - Acton Green - Piccadilly Circus", "95 - Shepherd's Bush Green - Southall Town Hall/Southall Waterside (from TBC)", "96 - Bluewater - Woolwich", "97 - Chingford Station - Stratford City", "98 - Holborn - Willesden Bus Garage", "99 - Bexleyheath Shopping Centre - Woolwich", "100 - St. Pauls - Shadwell", "101 - Gallions Reach Shopping Park - Wanstead", "102 - Edmonton Green - Brent Cross Shopping Centre/Golders Green (Night Service)", "103 - Chase Cross - Rainham Interchange", "104 - Manor Park - Stratford", "105 - Greenford Station - Heathrow Central", "106 - Finsbury Park Station - Whitechapel", "107 - Edgware Bus Station - New Barnet", "108 - Lewisham Shopping Centre - Stratford International", "109 - Brixton - Croydon Town Centre", "110 - Hounslow Bus Station - Hammersmith Bus Station", "111 - Heathrow Central - Kingston Cromwell Road Bus Station", "112 - Ealing Broadway Station - North Finchley", "113 - Edgware Bus Station - Oxford Circus", "114 - Mill Hill Broadway - Ruislip Station", "115 - Aldgate - East Ham Central Park", "116 - Ashford Hospital  - Hounslow Bus Station", "117 - Staines  - West Middlesex Hospital", "118 - Brixton - Morden", "119 - Bromley North - Purley Way Colonnades", "120 - Hounslow Bus Station - Northolt Station", "121 - Enfield Island Village - Turnpike Lane Station", "122 - Crystal Palace - Plumstead Bus Garage", "123 - Ilford - Wood Green", "124 - Catford St Dunstan's College - Eltham Southend Cresent", "125 - Colindale Station - Winchmore Hill", "126 - Bromley South - Eltham High Street", "127 - Purley - Tooting Broadway", "128 - Claybury Broadway - Romford Station", "129 - Lewisham - North Greenwich", "130 - New Addington Vulcan Way - Thornton Heath Parchmore Road", "131 - Kingston Fairfield Bus Station - Tooting Broadway", "132 - Bexleyheath Shopping Centre - North Greenwich", "133 - Holborn - Streatham Station", "134 - Tottenham Court Road - Warren Street Station", "135 - Crossharbour - Old Street Station", "136 - Elephant & Castle - Grove Park", "137 - Oxford Circus - Streatham Hill Telford Avenue", "138 - Bromley North - Coney Hall", "139 - Waterloo - Golders Green", "140 - Harrow Weald - Hayes & Harlington Station", "141 - London Bridge - Palmers Green North Circular Road", "142 - Brent Cross Shopping Centre - Watford Junction", "143 - Brent Cross Shopping Centre - Archway", "144 - Edmonton Green - Muswell Hill", "145 - Dagenham Asda - Leytonstone", "146 - Bromley North - Downe", "147 - Canning Town - Ilford", "148 - Camberwell Green - Shepherd's Bush/White City (Nights)", "149 - Edmonton Green - London Bridge", "150 - Becontree Heath Leisure Centre - Chigwell Row", "151 - Wallington - Worcester Park", "152 - New Malden Fountain Roundabout - Pollards Hill", "153 - Finsbury Park Station - Liverpool Street", "154 - Morden - West Croydon", "155 - Elephant & Castle - Tooting St George's Hospital", "156 - Vauxhall - Wimbledon", "157 - Crystal Palace - Morden", "158 - Chingford Mount - Stratford", "159 - Marble Arch - Streatham Station", "160 - Catford Bridge - Sidcup Station", "161 - Chislehurst War Memorial - North Greenwich", "162 - Beckenham Junction - Eltham Station", "163 - Morden - Wimbledon", "164 - Sutton Station", "165 - Rainham Abbey Wood Lane - Romford Brewery", "166 - West Croydon - Banstead/Epsom General Hospital", "167 - Ilford, Hainault Street - Loughton", "169 - Barking, Town Centre - Clayhall", "170 - Roehampton Danebury Avenue - Victoria", "171 - Bellingham Catford Bus Garage - Elephant & Castle", "172 - Aldwych - Brockley Rise", "173 - King George Hospital - Beckton Bus Station", "174 - Dagenham Marsh Way - Harold Hill Dagnam Park Square", "175 - Dagenham New Road - Hillrise Esate", "176 - Penge - Tottenham Court Road", "177 - Peckham - Thamesmead", "178 - Lewisham - Woolwich", "179 - Chingford Station - Ilford", "180 - Erith Quarry - North Greenwich", "181 - Grove Park - Lewisham Station", "182 - Brent Cross Shopping Centre - Harrow Weald Oxhey Lane", "183 - Golders Green - Pinner", "184 - Barnet Chesterfield Road - Turnpike Lane", "185 - Lewisham Station - Victoria", "186 - Brent Cross Shopping Centre - Northwick Park Hospital", "187 - Central Middlesex Hospital - Finchley Road 02 Centre", "188 - North Greenwich - Tottenham Court Road", "189 - Brent Cross Shopping Centre - Oxford Circus", "190 - Richmond - West Brompton", "191 - Brimsdown - Edmonton Green", "192 - Enfield - Tottenham Hale", "193 - County Park Estate - Romford Queen's Hospital", "194 - Lower Sydenham - West Croydon", "195 - Brentford County Court - Charville Lane Estate", "196 - Elephant & Castle - Norwood Junction", "198 - Shrublands - Thornton Heath High Street", "199 - Bellingham Catford Bus Garage - Canada Water", "200 - Mitcham - Raynes Park", "201 - Herne Hill - Morden", "202 - Blackheath - Crystal Palace", "203 - Hounslow Bus Station - Staines", "204 - Edgware Bus Station - Sudbury Town", "205 - Bow Church - Paddington", "206 - Kilburn Park - Wembley Park The Paddocks", "207 - Hayes By-Pass - White City", "208 - Lewisham Station - Orpington Perry Hall Road", "209 - Mortlake - Hammersmith Bridge South Side", "210 - Brent Cross Shopping Centre - Finsbury Park Station", "211 - Hammersmith Bus Station - Waterloo/Battersea Power Station (from TBC)", "212 - Chingford Station - St James's Street", "213 - Kingston Fairfield Bus Station - Sutton Bushy Road", "214 - Highgate Village - Liverpool Street", "215 - Walthamstow Central - Yardley Lane Estate/Lea Valley Camp Site (Summer only)", "216 - Kingston Cromwell Road Bus Station - Staines", "217 - Turnpike Lane Station - Waltham Cross", "218 - North Acton Station - Hammersmith Bus Station", "219 - Clapham Junction - Wimbledon", "220 - Wandsworth - Willesden Junction", "221 - Edgware Bus Station - Turnpike Lane Station", "222 - Hounslow Bus Station - Uxbridge Station", "223 - Harrow View - Wembley Central", "224 - St Raphael's - Alperton Sainsbury's", "225 - Canada Water - Hither Green", "226 - Ealing Broadway Station - Golders Green", "227 - Bromley North - Crystal Palace", "228 - Central Middlesex Hospital - Maida Hill The Chippenham", "229 - Queen Mary's Hospital - Thamesmead", "230 - Upper Walthamstow - Wood Green", "231 - Enfield Chase - Turnpike Lane Station", "232 - St Raphael's - Turnpike Lane Station", "233 - Eltham Station - Swanley ", "234 - Barnet The Spires - Highgate Wood", "235 - North Brentford Quarter - Sunbury Village", "236 - Finsbury Park Station - Hackney Wick", "237 - Hounslow Heath - White City", "238 - Barking - Stratford", "240 - Edgware Bus Station - Golders Green", "241 - Canning Town Barking Road - Stratford City", "242 - Aldgate - Homerton University Hospital", "243 - Waterloo - Wood Green", "244 - Abbey Wood - Queen Elizabeth Hospital", "245 - Alperton Sainsbury's - Golders Green", "246 - Bromley North - Westerham/Chartwell (Summer Sundays)", "247 - Barkingside - Romford Station", "248 - Cranham - Romford Market", "249 - Anerley Station - Clapham Common", "250 - Brixton - Croydon Fairfield Halls", "251 - Arnos Grove - Edgware Bus Station", "252 - Collier Row - Hornchurch Town Centre", "253 - Hackney Central - Euston", "254 - Aldgate - Holloway Nag's Head", "255 - Balham - Pollards Hill", "256 - Hornchurch, Miramar Way - Noak Hill", "257 - Stratford - Walthamstow Central", "258 - South Harrow - Watford Junction", "259 - Edmonton Green - King's Cross", "260 - Golders Green - White City", "261 - Lewisham Station - Princess Royal Hospital", "262 - East Beckton Sainsburys - Stratford", "263 - Barnet Hospital - Highbury Barn", "264 - Warlingham - Tooting St George's Hospital", "265 - Putney Bridge - Tolworth", "266 - Brent Cross Shopping Centre - Acton High Street", "267 - Fulwell - Hammersmith Bus Station", "268 - Finchley Road 02 Centre - Golders Green", "269 - Bexleyheath Shopping Centre - Bromley North", "270 - Mitcham - Putney Bridge", "271 - Highgate Village - Moorgate Finsbury Square", "272 - Chiswick Grove Park - Shepherd's Bush", "273 - Lewisham Tesco - Petts Wood", "274 - Islington Angel - Lancaster Gate", "275 - Barkingside, Tesco - St James's Street", "276 - Newham Hospital - Stoke Newington", "277 - Crossharbour - Highbury Corner", "278 - Heathrow Central - Ruislip Station", "279 - Manor House - Waltham Cross", "280 - Belmont - Tooting St George's Hospital", "281 - Hounslow Bus Station - Tolworth", "282 - Ealing Hospital - Mount Vernon Hospital", "283 - East Acton - Hammersmith Bus Station", "284 - Grove Park Cemetery - Lewisham Station", "285 - Heathrow Central - Kingston Cromwell Road Bus Station", "286 - Greenwich Cutty Sark - Queen Mary's Hospital", "287 - Barking - Rainham Abbey Wood Lane", "288 - Broadfields Estate - Queensbury Morrison's", "289 - Elmers End - Purley", "290 - Staines  - Twickenham", "291 - Queen Elizabeth Hospital - Plumstead", "292 - Borehamwood Rossington Avenue  - Colindale Asda", "293 - Epsom Hospital  - Morden", "294 - Havering Park - Noak Hill", "295 - Clapham Junction - Ladbroke Grove Sainsbury's", "296 - Ilford, Broadway - Romford Station", "297 - Willesden Bus Garage - Ealing Broadway Station", "298 - Arnos Grove - Potters Bar Station/Potters Bar Cranborne Road", "299 - Cockfosters - Muswell Hill", "300 - Canning Town - East Ham", "301 - Bexleyheath Market Place - Woolwich Beresford Street", "302 - Kensal Rise - Mill Hill Broadway", "303 - Kingsbury Circle - Edgware Bus Station", "306 - Acton Vale - Fulham Sand's End", "307 - Barnet Hospital - Brimsdown", "308 - Clapton Pond - Wanstead", "309 - Bethnal Green Chest Hospital - Canning Town", "312 - Norwood Junction - Warlingham", "313 - Chingford Station - Potters Bars Dame Alice Owen's School", "314 - Eltham Station - New Addington", "315 - Balham - West Norwood", "316 - Brent Cross West - White City", "317 - Enfield - Waltham Cross ", "318 - North Middlesex Hospital - Stamford Hill", "319 - Sloane Square - Streatham Hill Telford Avenue", "320 - Biggin Hill Valley - Catford Bridge", "321 - Foots Cray Tesco - New Cross Gate", "322 - Clapham Common - Crystal Palace", "323 - Canning Town - Mile End", "324 - Brent Cross Tesco - Stanmore Station", "325 - East Beckton Sainsbury's - Prince Regent", "326 - Barnet The Spires - Brent Cross Shopping Centre", "327 - Waltham Cross  - Circular route via Elsinge Estate and Turkey Street", "328 - Chelsea World's End - Golders Green", "329 - Enfield - Turnpike Lane Station", "330 - Silvertown Thames Barrier - Wanstead Park Station", "331 - Ruislip Station - Uxbridge Station", "333 - Elephant & Castle - Tooting Broadway", "335 - North Greenwich - Kidbrooke", "336 - Catford Bridge - Locksbottom", "337 - Clapham Junction - Richmond", "339 - Leytonstone - Shadwell", "340 - Edgware Bus Station - Harrow Bus Station", "341 - Lea Valley - Waterloo", "343 - Aldgate - New Cross Gate", "344 - Clapham Junction - Liverpool Street", "345 - Peckham - South Kensington", "346 - Upminster Park Estate - Upminster Station", "347 - Ockendon  - Romford Station", "349 - Ponders End Bus Garage - Stamford Hill", "350 - Hayes Asda - Heathrow Terminal 5", "352 - Lower Sydenham - Bromley North", "353 - Forestdale - Ramsden Estate", "354 - Bromley North - Penge", "355 - Brixton - Mitcham", "356 - Shirley - Upper Sydenham", "357 - Whipps Cross Whipps Cross Hospital (Sundays) - Chingford Hatch", "358 - Crystal Palace - Orpington Station", "359 - Addington Village - Purley", "360 - Elephant & Castle - Royal Albert Hall", "362 - Grange Hill  - King George Hospital", "363 - Crystal Palace - Elephant & Castle", "364 - Dagenham East, Ballards Road - Ilford, Hainault Street", "365 - Mardyke Estate - Havering Park", "366 - Beckton Station - Redbridge", "367 - Bromley North - West Croydon", "368 - Barking Harts Lane - Chadwell Heath Wangey Road", "370 - Lakeside Shopping Centre  - Romford Mercury Gardens", "371 - Kingston Hall Road - Richmond Manor Circus", "372 - Hornchurch, Town Centre - Lakeside Shopping Centre", "375 - Passingford Bridge - Romford Station", "376 - Beckton Station - East Ham Newham Town Hall", "377 - Oakwood - Ponders End Bus Garage", "378 - Mortlake - Putney Bridge", "379 - Chingford Station - Yardley Lane", "380 - Belmarsh - Lewisham Shopping Centre", "381 - Peckham - Waterloo", "382 - Millbrook Park - Southgate", "383 - Barnet The Spires - Finchley Memorial Hospital", "384 - Edgware Bus Station - Cockfosters", "385 - Chingford Station - Crooked Billet Sainsbury's", "386 - Blackheath Village - Woolwich", "388 - London Bridge - Stratford City", "389 - Barnet The Spires - Circular via Western Way", "390 - Archway - Notting Hill Gate", "393 - Clapton Pond - Chalk Farm", "394 - Homerton Hospital - Islington Angel", "395 - Harrow Bus Station - Greenford Westway Cross", "396 - Ilford Broadway - King George Hospital", "397 - Crooked Billet Sainsbury's - Debden", "398 - Ruislip Station - Wood End", "399 - Barnet The Spires - Circular via Hadley Wood Station", "401 - Thamesmead - Bexleyheath Shopping Centre", "404 - Caterham-on-the-Hill  - Coulsdon", "405 - Redhill  - Croydon Katharine Street/West Croydon (School Jouneys)", "406 - Epsom  - Kingston Cromwell Road Bus Station", "407 - Caterham - Sutton Town Centre", "410 - Crystal Palace - Wallington", "411 - Kingston Cromwell Road Bus Station - West Molesey", "412 - Purley - Tooting St George's Hospital", "413 - Morden - Sutton Bushey Road", "414 - Maida Hill The Chippenham - Putney Bridge", "415  - Old Kent Road Tesco - Tulse Hill Station", "417 - Clapham Common - Crystal Palace", "418 - Epsom  - Kingston Cromwell Road Bus Station", "419 - Roehampton Bessborough Road - Richmond", "422 - Bexleyheath Bus Garage - North Greenwich", "423 - Heathrow Terminal 5 - Hounslow Bus Station", "424 - Fulham Craven Cottage - Putney Heath", "425 - Clapton Nightingale Road - Ilford, Hainault Street", "427 - Southall Merrick Road - Uxbridge Station", "428 - Bluewater  - Erith", "430 - Roehampton Danebury Avenue - South Kensington", "432 - Anerley Station - Brixton", "433 - Addington Village - Croydon Fairfield Halls", "434 - Coulsdon Ridgemount Avenue - Whyteleafe South", "436 - Battersea Park Station - Lewisham Shopping Centre", "440 - Wembley Fourth Way - Turnham Green Church", "444 - Chingford Station - Turnpike Lane Station", "450 - Lower Sydenham - West Croydon", "452 - Kensal Rise - Vauxhall", "453 - Deptford Bridge - Marylebone", "455 - Purley Old Lodge Lane - Wallington Station", "456 - Crews Hill (Golf Ride) - Enfield Town", "460 - North Finchley - Willesden Bus Garage", "462 - Ilford, Hainualt Street - Limes Farm Estate", "463 - Coulsdon South - Pollards Hill", "464 - New Addington - Tatsfield", "465 - Dorking  - Kingston Cromwell Road Bus Station", "466 - Addington Village - Caterham-on-the-Hill", "467 - Epsom  - Hook", "468 - South Croydon South End - Elephant & Castle", "469 - Erith - Queen Elizabeth Hospital", "470 - Colliers Wood - Epsom", "472 - Abbey Wood - North Greenwich", "473 - North Woolwich - Stratford", "474 - Canning Town Barking Road - Manor Park", "476 - King's Cross - Northumberland Park", "481 - Kingston Cromwell Road Bus Station - West Middlesex Hospital", "482 - Heathrow Terminal 5 - Southall Town Hall", "483 - Windmill Park - Harrow Bus Station", "484 - Camberwell Green - Lewisham Station", "485 - Castelnau - Wandsworth", "486 - Bexleyheath Shopping Centre - North Greenwich", "487 - South Harrow - Willesden Junction", "488 - Bromley-by-Bow Tesco - Dalston Junction", "490 - Heathrow Terminal 5 - Richmond Pools On The Park", "491 - North Middlesex Hospital - Waltham Cross", "492 - Bexleyheath Shopping Centre - Sidcup Station", "493 - Richmond Bus Station - Tooting St George's Hospital", "496 - Romford Queen's Hospital - Harold Wood Station", "497 - Harold Hill Gooshays Drive - Harold Wood Station", "498 - Romford Queen's Hospital - Brentwood ", "499 - Gallows Corner Tesco - loop service via Becontree Heath, Heath Park Estate and Rush Green", "533 - Castelnau Lonsdale Road - Hammersmith Bus Station", "549 - Loughton  - South Woodford -", "A10 - Uxbridge Station - Heathrow Central", "B11 - Bexleyheath Bus Garage - Thamesmead South", "B12 - Erith - Joydens Wood ", "B13 - Bexleyheath Shopping Centre - New Eltham", "B14 - Bexleyheath Shopping Centre - Orpington Station", "B15 - Bexleyheath Shopping Centre - Horn Park", "B16 - Bexleyheath Bus Garage - Kidbrooke", "C1 - Victoria - White City", "C3 - Clapham Junction - Earl's Court Tesco", "C10 - Canada Water - Victoria", "C11 - Brent Cross Shopping Centre - Archway", "D3 - Bethal Green Chest Hospital - Leamouth Saffron Avenue", "D6 - Ash Grove - Crossharbour Asda", "D7 - Mile End - Poplar All Saints", "D8 - Crossharbour Asda - Stratford City", "E1 - Ealing Broadway Station - Greenford Broadway", "E2 - Brentford Commerence Road - Greenford Broadway", "E3 - Chiswick Edensor Road - Greenford Broadway", "E5 - Perivale Tesco - Southall Toplocks Estate", "E6 - Bulls Bridge - Greenford Station", "E7 - Ealing Broadway Station - Ruislip Station", "E8 - Ealing Broadway Station - Hounslow Bell Corner", "E9 - Ealing Broadway Station - Yeading Barnhill Estate", "E10 - Ealing Broadway Station - Northolt Islip Manor", "E11 - Ealing Warwick Dene - Greenford Broadway", "EL1 - Barking Riverside - Ilford Station", "EL2 - Becontree Heath, Leisure Centre - Dagenham Dock", "EL3 - Barking Riverside - Little Heath", "G1 - Battersea Shaftesbury Estate - Streatham Green Lane", "H2 - Golders Green - Circular via Hampstead Garden Suburb", "H3 - Golders Green - East Finchley Hill Top", "H9 - Northwick Park Hospital (circular) - anticlockwise via Kenton, Wealdstone & Rayners Lane", "H10 - Northwick Park Hospital (circular) - clockwise via South Harrow, North Harrow & Wealdstone", "H11 - Harrow Bus Station - Mount Vernon Hospital", "H12 - Stanmore Station - South Harrow", "H13 - Northwood Hills St Vincents - Ruislip Lido", "H14 - Hatch End - Northwick Park Hospital", "H17 - Harrow Bus Station - Wembley Central", "H18 - Harrow Bus Station (circular) - clockwise via North Harrow, Long Elmes & Kenton", "H19 - Harrow Bus Station (circular) - anticlockwise via Kenton, Belmont & North Harrow", "H20 - Hounslow Civic Centre - Ivybridge Tesco", "H22 - Hounslow Bell Corner - West Middlesex Hospital", "H25 - Butts Farm - Hatton Cross", "H26 - Feltham Sparrow Farm - Hatton Cross", "H28 - Bulls Bridge - Osterley Tesco", "H32 - Southall Town Hall/Hayes & Harlington (from TBC) - Hounslow Bus Station", "H37 - Hounslow Blenheim Centre - Richmond Manor Circus", "H91 - Hammersmith Bus Station - Hounslow West", "H98 - Hayes End - Hounslow Bus Station", "K1 - Kingston Cromwell Road Bus Station - New Malden", "K2 - Hook - Kingston Hospital", "K3 - Esher  - Roehampton Vale", "K4 - Kingston Hospital - Mansfield Park", "K5 - Ham - Morden", "P4 - Brixton - Lewisham Station", "P5 - Elephant & Castle - Patmore Estate", "P12 - Brockley Rise - Surrey Quays", "P13 - New Cross Gate - Streatham", "R1 - Green Street Green - St Paul's Cray", "R2 - Biggin Hill Valley - Petts Wood", "R3 - Chelsfield Village - Princess Royal Hospital", "R4 - Paul's Cray Hill - Princess Royal Hospital", "R5 - Orpington Station - clockwise via Knockholt", "R6 - Orpington Station - St. Mary Cray Station", "R7 - Bickley Aquila - Orpington Walnuts Centre", "R8 - Orpington Station - Biggin Hill", "R9 - Orpington Station - Ramsden Estate", "R10 - Orpington Station - anticlockwise via Knockholt", "R11 - Green Street Green - Queen Mary's Hospital", "R68 - Hampton Court  - Kew Retail Park", "R70 - Hampton The Avenue - Richmond Manor Circus", "S1 - Banstead  - Lavender Fields", "S3 - Belmont - Malden Manor", "S4 - Roundshaw - St Helier Station", "SL1 - North Finchley - Walthamstow Central", "SL2 - North Woolwich - Walthamstow Central", "SL6 - Russell Square - West Croydon", "SL7 - Heathrow Central - West Croydon", "SL8 - Uxbridge Station - White City", "SL9 - Harrow Bus Station - Heathrow Central", "SL10 - Harrow Bus Station - North Finchley", "U1 - Ruislip Station - West Drayton", "U2 - Brunel University - Uxbridge Station", "U3 - Heathrow Central - Uxbridge Station", "U4 - Hayes Prologis Park - Uxbridge Station", "U5 - Hayes & Harlington Station - Uxbridge Station", "U7 - Hayes Sainsbury's - Uxbridge Station", "U9 - Harefield Hospital - Uxbridge Station", "U10 - Ruislip Heathfield Rise - Uxbridge Station", "W3 - Finsbury Park Station - Northumberland Park", "W4 - Oakthorpe Park - Tottenham Hale Ferry Lane", "W5 - Archway - Harringay Superstores", "W6 - Edmonton Green - Southgate", "W7 - Finsbury Park Station - Muswell Hill", "W8 - Chase Farm Hospital - Lea Valley Leisure Complex", "W9 - Chase Farm Hospital - Southgate", "W11 - Chingford Hall Estate - Walthamstow Central", "W12 - Walthamstow Coppermill Lane - Wanstead", "W13 - Leytonstone - Woodford Wells", "W14 - Leyton Superstores - Woodford Bridge", "W15 - Hackney Town Hall - Higham Hill Cogan Avenue", "W16 - Chingford Mount - Leytonstone", "W19 - Argall Avenue/St James Street Station (after 20:00) - Ilford, Hainault Street"], []);

  useEffect(() => {
    const storedChecklist = JSON.parse(localStorage.getItem("checklist")) || [];
    
    // Filter out indices that are no longer in the checkList array
    const filteredChecked = storedChecklist.filter(index => index < checkList.length);

    setChecked(filteredChecked);
    saveToLocalStorage(filteredChecked);
  }, [checkList]);

  const saveToLocalStorage = (updatedList) => {
    localStorage.setItem("checklist", JSON.stringify(updatedList));
  };

  const handleCheck = (index) => {
    const updatedList = checked.includes(index)
      ? checked.filter((id) => id !== index)
      : [...checked, index];

    setChecked(updatedList);
    saveToLocalStorage(updatedList);
  };

  const isChecked = (index) => (checked.includes(index) ? "checked-item" : "not-checked-item");

  return (
    <div className="app">
      <div className="checklist">
        <div className="title">Bus List</div>
        <div className="list-container">
          {checkList.map((item, index) => (
            <div key={index}>
              <input
                type="checkbox"
                value={item}
                checked={checked.includes(index)}
                onChange={() => handleCheck(index)}
              />
              <span className={isChecked(index)}>{item}</span>
            </div>
          ))}
        </div>
      </div>

      <PercentageDisplay totalItems={checkList.length} checkedItems={checked} />
            
      <div className="selecteditems">
        {`Selected items: ${checked.map((index) => checkList[index]).join(", ")}`}
      </div>
    </div>
  );
}

export default App;
